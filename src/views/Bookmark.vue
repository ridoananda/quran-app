<script setup>
import CardSurah from '../components/CardSurah.vue';
import { inject, computed } from 'vue'
const state = inject('global')
state.getSurah()
const bookmarkFiltered = computed(() => state.surah.value.filter(item => state.bookmarks.value.includes(item.nomor)))
</script>
<template>
    <div class="py-2 md:w-10/12 md:mx-auto px-4">
        <div class="text-2xl font-head text-primary font-bold flex items-center mb-3">
            <svg
                width="26"
                height="28"
                viewBox="0 0 26 28"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M4.33333 10.5C4.33333 7.20017 4.33333 5.55025 5.28523 4.52513C6.23714 3.5 7.7692 3.5 10.8333 3.5H15.1667C18.2308 3.5 19.7629 3.5 20.7148 4.52513C21.6667 5.55025 21.6667 7.20017 21.6667 10.5V18.4655C21.6667 21.596 21.6667 23.1613 20.752 23.64C19.8374 24.1188 18.6945 23.1517 16.4087 21.2177L15.6772 20.5987C14.392 19.5112 13.7494 18.9674 13 18.9674C12.2506 18.9674 11.608 19.5112 10.3228 20.5987L9.59125 21.2177C7.30551 23.1517 6.16263 24.1188 5.24798 23.64C4.33333 23.1613 4.33333 21.596 4.33333 18.4655V10.5Z"
                    fill="#27AE60"
                />
                <path
                    d="M15.6772 20.5987L16.3232 19.8353L15.6772 20.5987ZM10.3228 20.5987L9.67683 19.8353L10.3228 20.5987ZM9.59125 21.2177L10.2372 21.981H10.2372L9.59125 21.2177ZM16.4087 21.2177L15.7628 21.981L16.4087 21.2177ZM10.8333 4.5H15.1667V2.5H10.8333V4.5ZM20.6667 10.5V18.4655H22.6667V10.5H20.6667ZM5.33333 18.4655V10.5H3.33333V18.4655H5.33333ZM17.0547 20.4543L16.3232 19.8353L15.0313 21.3621L15.7628 21.981L17.0547 20.4543ZM9.67683 19.8353L8.94531 20.4543L10.2372 21.981L10.9687 21.3621L9.67683 19.8353ZM16.3232 19.8353C15.6999 19.3079 15.164 18.8521 14.6857 18.5388C14.1859 18.2113 13.6454 17.9674 13 17.9674V19.9674C13.104 19.9674 13.2595 19.9954 13.5896 20.2117C13.9413 20.4421 14.3693 20.8019 15.0313 21.3621L16.3232 19.8353ZM10.9687 21.3621C11.6307 20.8019 12.0587 20.4421 12.4104 20.2117C12.7405 19.9954 12.896 19.9674 13 19.9674V17.9674C12.3546 17.9674 11.8141 18.2113 11.3143 18.5388C10.836 18.8521 10.3001 19.3079 9.67683 19.8353L10.9687 21.3621ZM3.33333 18.4655C3.33333 19.9991 3.33107 21.2556 3.45675 22.1817C3.57834 23.0776 3.86371 24.0442 4.78425 24.526L5.71172 22.7541C5.7026 22.7493 5.66907 22.7358 5.61751 22.6304C5.55581 22.5043 5.48912 22.2851 5.43858 21.9127C5.33559 21.1538 5.33333 20.0624 5.33333 18.4655H3.33333ZM8.94531 20.4543C7.77542 21.4442 6.98636 22.1082 6.37986 22.4829C6.08336 22.6661 5.90091 22.734 5.79751 22.7544C5.7242 22.7689 5.71676 22.7567 5.71172 22.7541L4.78425 24.526C5.73975 25.0262 6.68074 24.648 7.43105 24.1844C8.19609 23.7117 9.12133 22.9252 10.2372 21.981L8.94531 20.4543ZM20.6667 18.4655C20.6667 20.0624 20.6644 21.1538 20.5614 21.9127C20.5109 22.2851 20.4442 22.5043 20.3825 22.6304C20.3309 22.7358 20.2974 22.7493 20.2883 22.7541L21.2157 24.526C22.1363 24.0442 22.4217 23.0776 22.5432 22.1817C22.6689 21.2556 22.6667 19.9991 22.6667 18.4655H20.6667ZM15.7628 21.981C16.8787 22.9252 17.8039 23.7117 18.5689 24.1844C19.3193 24.648 20.2602 25.0262 21.2157 24.526L20.2883 22.7541C20.2832 22.7567 20.2758 22.7689 20.2025 22.7544C20.0991 22.734 19.9166 22.6661 19.6201 22.4829C19.0136 22.1082 18.2246 21.4442 17.0547 20.4543L15.7628 21.981ZM15.1667 4.5C16.7291 4.5 17.7927 4.50246 18.5895 4.61782C19.3495 4.72785 19.719 4.92236 19.982 5.20558L21.4476 3.84468C20.7586 3.10276 19.8862 2.78471 18.8761 2.63846C17.9028 2.49754 16.6683 2.5 15.1667 2.5V4.5ZM22.6667 10.5C22.6667 8.87638 22.6685 7.56517 22.54 6.53567C22.4087 5.48453 22.1267 4.57606 21.4476 3.84468L19.982 5.20558C20.2547 5.49932 20.4486 5.92837 20.5554 6.78343C20.6648 7.66012 20.6667 8.82378 20.6667 10.5H22.6667ZM10.8333 2.5C9.33165 2.5 8.09716 2.49754 7.1239 2.63846C6.11382 2.78471 5.24136 3.10276 4.55244 3.84468L6.01803 5.20558C6.28101 4.92236 6.65054 4.72785 7.41049 4.61782C8.20728 4.50246 9.27089 4.5 10.8333 4.5V2.5ZM5.33333 10.5C5.33333 8.82378 5.33517 7.66012 5.44462 6.78343C5.55137 5.92837 5.74527 5.49932 6.01803 5.20558L4.55244 3.84468C3.8733 4.57606 3.59125 5.48453 3.46002 6.53567C3.3315 7.56517 3.33333 8.87638 3.33333 10.5H5.33333Z"
                    fill="white"
                    fill-opacity="0.8"
                />
            </svg>
            <div class="ml-1">Bookmark</div>
        </div>
        <div class="flex flex-wrap">
            <CardSurah
                v-for="(result, index) in bookmarkFiltered || []"
                :key="index"
                :surah="result"
            />
        </div>
        <div v-if="!bookmarkFiltered.length" class="text-text-color">You don't have bookmark :(</div>
    </div>
</template>